# src/tailor/policies.yaml
# Each policy adds ONE short clause to a bullet when BOTH the JD and the bullet context match.
# Only applied if the candidate already claims at least one required skill (requires_any).

- id: ml_modeling
  jd_cues: ["model", "training", "evaluation", "deploy", "inference"]
  bullet_cues: ["model", "vision", "resnet", "pytorch", "classification", "inference"]
  requires_any: ["python", "pytorch"]
  clause: "shipped ML models with Python/PyTorch and iterative evaluation loops"

- id: search_ranking_rag
  jd_cues: ["search", "retrieval", "ranking", "rag"]
  bullet_cues: ["search", "retrieve", "index", "dataset", "vector", "embedding"]
  requires_any: ["python"]
  clause: "experimented with retrieval/ranking and dataset curation for relevance"

- id: data_pipelines
  jd_cues: ["pipeline", "dataset", "data", "annotation"]
  bullet_cues: ["pipeline", "cron", "github", "actions", "scrape", "supabase", "sql", "postgres"]
  requires_any: ["github actions", "sql", "postgresql"]
  clause: "built reliable data/annotation pipelines (GitHub Actions + SQL/Postgres)"

- id: mlops_infra
  jd_cues: ["mlops", "observability", "ci", "monitor", "deployment"]
  bullet_cues: ["github", "actions", "ci", "cron", "monitor", "deploy"]
  requires_any: ["github actions"]
  clause: "added CI/monitoring hooks for model/data jobs"

- id: product_collab
  jd_cues: ["product", "features", "impact", "cross-functional", "collaborate"]
  bullet_cues: ["app", "pwa", "react", "ui", "prototype", "space"]
  requires_any: ["react", "react native"]
  clause: "partnered on user-facing features with quick prototypes (React/React Native)"

# --- new concrete policies for C++ / browser perf / multiplayer / TS ---

- id: cxx_perf
  jd_cues: ["c++", "cpp", "performance", "latency", "memory"]
  bullet_cues: ["opencv", "vision", "resnet", "performance"]
  requires_any: ["c++"]
  clause: "profiled hotspots and reduced latency/memory in C++ paths"

- id: wasm_browser
  jd_cues: ["webassembly", "wasm", "browser"]
  bullet_cues: ["opencv", "vision", "performance"]
  requires_any: ["c++"]
  clause: "prepared C++ modules for browser targets and measured runtime impact"

- id: multiplayer
  jd_cues: ["multiplayer", "protocol", "collaboration", "realtime"]
  bullet_cues: ["app", "pwa", "prototype"]
  requires_any: ["javascript", "typescript", "react"]
  clause: "validated real-time collaboration flows and basic protocol edge cases"

- id: typescript_ui
  jd_cues: ["typescript", "frontend", "ui"]
  bullet_cues: ["react", "ui", "component", "app"]
  requires_any: ["typescript", "react"]
  clause: "built typed UI components in TypeScript with predictable props/state"

- id: api_design
  jd_cues: ["api", "sdk", "tooling"]
  bullet_cues: ["app", "pwa", "prototype"]
  requires_any: ["javascript", "python"]
  clause: "exposed small, well-documented APIs to speed feature integration"

- id: accessibility
  jd_cues: ["accessibility", "a11y"]
  bullet_cues: ["ui", "app", "component"]
  requires_any: ["react"]
  clause: "checked keyboard nav/labels to improve basic accessibility"
